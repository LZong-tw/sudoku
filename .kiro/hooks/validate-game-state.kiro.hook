{
  "enabled": true,
  "name": "Validate Game State",
  "description": "Validates game state consistency when core game files are modified",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "src/game-controller.js",
      "src/core/grid-model.js",
      "src/core/history-manager.js"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Validate game state consistency by checking:\n1. Grid state - values stay within 0-9, fixed cells cannot be modified\n2. Selection state - selectedCell coordinates are valid (0-8)\n3. Game state transitions - paused, completed states are valid\n4. History state - undo/redo stack integrity\n5. Timer state - starts on first input, pauses correctly\n\nRun relevant tests and report any violations."
  }
}
